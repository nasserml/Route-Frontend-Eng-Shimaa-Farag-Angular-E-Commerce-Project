<section id="registerForm" class="py-8">

    <div class="container">

        <h1 class="register-title">Register Now :</h1>

        

        <form (ngSubmit)="sendData()" [formGroup]="registerForm" class="tw-form">


            @if (getErrMsg()) {
                <div class="tw-alert" role="alert"><span class="font-extrabold text-xl">{{getErrMsg()}}</span></div>

            }



            <div class="mb-5">
                <label for="user-name" class="tw-form-label">Name : </label>
                <input type="text" id="user-name" class="tw-form-input" formControlName="name"  />

                @if(registerForm.get('name')?.errors && registerForm.get('name')?.touched ) {

                    @if( registerForm.get('name')?.errors?.['required']  ) {
                        <div class=" tw-danger" role="alert"><span class="font-bold">Name is Required</span></div>

                    }

                    @if( registerForm.get('name')?.errors?.['minlength'] ){

                        <div class=" tw-danger" role="alert"><span class="font-bold">Name minLength is 3 char</span></div>
                    }

                    @if( registerForm.get('name')?.errors?.['maxlength'] ) {
                        
                        <div class=" tw-danger" role="alert"><span class="font-bold">Name maxLEngth is 10 char</span></div>
                    }

    

                }

               
                
            </div>

            <div class="mb-5">

                <label for="user-email" class="tw-form-label">Email : </label>
                <input type="email" id="user-email" class="tw-form-input"   formControlName="email" />

                @if(registerForm.get('email')?.errors && registerForm.get('email')?.touched ) {

                    @if( registerForm.get('email')?.errors?.['required']  ) {
                        <div class="tw-danger" role="alert"><span class="font-bold">Email is Required</span></div>

                    }

                    @if( registerForm.get('email')?.errors?.['email'] ) {
                        <div class="tw-danger" role="alert"><span class="font-bold">Enter a valid email</span></div>
                    }

                   

    

                }

            </div>

            <div class="mb-5">
                <label for="user-password" class="tw-form-label">Password : </label>
                <input type="password" id="user-password" class="tw-form-input"  formControlName="password" />

                @if(registerForm.get('password')?.errors && registerForm.get('password')?.touched ) {

                    @if( registerForm.get('password')?.errors?.['required']  ) {
                        <div class="tw-danger" role="alert"><span class="font-bold">password is Required</span></div>

                    }

                    @if( registerForm.get('password')?.errors?.['pattern'] ) {
                        <div class="tw-danger" role="alert"><span class="font-bold">Enter a valid password starting with capital letter and 8 char </span></div>
                    }

                   

    

                }

            </div>

            <div class="mb-5">
                <label for="user-rePassword" class="tw-form-label">Confirm Password : </label>
                <input type="password" id="user-rePassword" class="tw-form-input"  formControlName="rePassword" />

                @if(registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched ) {

                    @if( registerForm.get('rePassword')?.errors?.['required']  ) {
                        <div class="tw-danger" role="alert"><span class="font-bold">Confirm Password is Required</span></div>

                    }

                    @if( registerForm.get('rePassword')?.errors?.['pattern'] ) {
                        <div class="tw-danger" role="alert"><span class="font-bold">Enter a valid Confirm Password Start With Captel Letter and 8 character </span></div>
                    }

                   

    

                }

            </div>

            <div class="mb-5">
                <label for="user-phone" class="tw-form-label">Phone : </label>
                <input type="tel" id="user-phone" class="tw-form-input"  formControlName="phone" />

                @if(registerForm.get('phone')?.errors && registerForm.get('phone')?.touched ) {

                    @if( registerForm.get('phone')?.errors?.['required']  ) {
                        <div class="tw-danger" role="alert"><span class="font-bold">Phone is Required</span></div>

                    }

                    @if( registerForm.get('phone')?.errors?.['pattern'] ) {
                        <div class="tw-danger" role="alert"><span class="font-bold">Enter a valid Phone number </span></div>
                    }

                   

    

                }


            </div>
          
           
                @if (getIsLoading()) {
                     <button [disabled]="true"  class="tw-form-btn-submit">
                        
                         <i class="fa-solid fa-spinner fa-spin"></i>
                    </button> 
                        

                }@else {
                    <button [disabled]="registerForm.invalid" type="submit" class="tw-form-btn-submit">
                    Register
                </button> 
                }
        </form>
  
    </div>
    
</section>