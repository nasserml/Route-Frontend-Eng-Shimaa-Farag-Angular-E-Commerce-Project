<section id="registerForm" class="py-8">

    <div class="container">
        <h1 class="text-3xl text-main-color-0aad0a font-bold ">Register Now :</h1>

        

        <form (ngSubmit)="sendData()" [formGroup]="registerForm" class="w-2/3 mx-auto my-6">


            @if (errMsg) {
                <div class="mt-2 p-4 mb-4 text-base text-red-900 rounded-lg bg-red-200 dark:bg-gray-800  dark:text-red-400" role="alert"><span class="font-extrabold text-xl">{{errMsg}}</span></div>

            }



            <div class="mb-5">
                <label for="user-name" class="block mb-2 text-base font-bold text-gray-900  dark:text-white">Name : </label>
                <input type="text" id="user-name" class="bg-gray-50 font-bold border border-gray-300 text-gray-900  text-base rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-green-500 dark:focus:border-green-500" formControlName="name"  />

                @if(registerForm.get('name')?.errors && registerForm.get('name')?.touched ) {

                    @if( registerForm.get('name')?.errors?.['required']  ) {
                        <div class="mt-2 p-4 mb-4 text-base text-red-800 rounded-lg bg-red-50 dark:bg-gray-800  dark:text-red-400" role="alert"><span class="font-bold">Name is Required</span></div>

                    }

                    @if( registerForm.get('name')?.errors?.['minlength'] ){

                        <div class="p-4 mt-2 mb-4 text-base text-red-800 rounded-lg bg-red-50 dark:bg-gray-800  dark:text-red-400" role="alert"><span class="font-bold">Name minLength is 3 char</span></div>
                    }

                    @if( registerForm.get('name')?.errors?.['maxlength'] ) {
                        
                        <div class="p-4 mt-2 mb-4 text-base text-red-800 rounded-lg bg-red-50 dark:bg-gray-800  dark:text-red-400" role="alert"><span class="font-bold">Name maxLEngth is 10 xhar</span></div>
                    }

    

                }

               
                
            </div>

            <div class="mb-5">

                <label for="user-email" class="block mb-2 text-base font-bold text-gray-900  dark:text-white">Email : </label>
                <input type="email" id="user-email" class="bg-gray-50 font-bold border border-gray-300 text-gray-900  text-base rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-green-500 dark:focus:border-green-500"   formControlName="email" />

                @if(registerForm.get('email')?.errors && registerForm.get('email')?.touched ) {

                    @if( registerForm.get('email')?.errors?.['required']  ) {
                        <div class="mt-2 p-4 mb-4 text-base text-red-800 rounded-lg bg-red-50 dark:bg-gray-800  dark:text-red-400" role="alert"><span class="font-bold">Email is Required</span></div>

                    }

                    @if( registerForm.get('email')?.errors?.['email'] ) {
                        <div class="mt-2 p-4 mb-4 text-base text-red-800 rounded-lg bg-red-50 dark:bg-gray-800  dark:text-red-400" role="alert"><span class="font-bold">Enter a valid email</span></div>
                    }

                   

    

                }

            </div>

            <div class="mb-5">
                <label for="user-password" class="block mb-2 text-base font-bold text-gray-900  dark:text-white">Password : </label>
                <input type="password" id="user-password" class="bg-gray-50 font-bold border border-gray-300 text-gray-900  text-base rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-green-500 dark:focus:border-green-500"  formControlName="password" />

                @if(registerForm.get('password')?.errors && registerForm.get('password')?.touched ) {

                    @if( registerForm.get('password')?.errors?.['required']  ) {
                        <div class="mt-2 p-4 mb-4 text-base text-red-800 rounded-lg bg-red-50 dark:bg-gray-800  dark:text-red-400" role="alert"><span class="font-bold">password is Required</span></div>

                    }

                    @if( registerForm.get('password')?.errors?.['pattern'] ) {
                        <div class="mt-2 p-4 mb-4 text-base text-red-800 rounded-lg bg-red-50 dark:bg-gray-800  dark:text-red-400" role="alert"><span class="font-bold">Enter a valid password starting with capital letter and 8 char </span></div>
                    }

                   

    

                }

            </div>

            <div class="mb-5">
                <label for="user-rePassword" class="block mb-2 text-base font-bold text-gray-900  dark:text-white">Confirm Password : </label>
                <input type="password" id="user-rePassword" class="bg-gray-50 font-bold border border-gray-300 text-gray-900  text-base rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-green-500 dark:focus:border-green-500"  formControlName="rePassword" />

                @if(registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched ) {

                    @if( registerForm.get('rePassword')?.errors?.['required']  ) {
                        <div class="mt-2 p-4 mb-4 text-base text-red-800 rounded-lg bg-red-50 dark:bg-gray-800  dark:text-red-400" role="alert"><span class="font-bold">Confirm Password is Required</span></div>

                    }

                    @if( registerForm.get('rePassword')?.errors?.['pattern'] ) {
                        <div class="mt-2 p-4 mb-4 text-base text-red-800 rounded-lg bg-red-50 dark:bg-gray-800  dark:text-red-400" role="alert"><span class="font-bold">Enter a valid Confirm Password Start With Captel Letter and 8 character </span></div>
                    }

                   

    

                }

            </div>

            <div class="mb-5">
                <label for="user-phone" class="block mb-2 text-base font-bold text-gray-900  dark:text-white">Phone : </label>
                <input type="tel" id="user-phone" class="bg-gray-50 font-bold border border-gray-300 text-gray-900  text-base rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-green-500 dark:focus:border-green-500"  formControlName="phone" />

                @if(registerForm.get('phone')?.errors && registerForm.get('phone')?.touched ) {

                    @if( registerForm.get('phone')?.errors?.['required']  ) {
                        <div class="mt-2 p-4 mb-4 text-base text-red-800 rounded-lg bg-red-50 dark:bg-gray-800  dark:text-red-400" role="alert"><span class="font-bold">Phone is Required</span></div>

                    }

                    @if( registerForm.get('phone')?.errors?.['pattern'] ) {
                        <div class="mt-2 p-4 mb-4 text-base text-red-800 rounded-lg bg-red-50 dark:bg-gray-800  dark:text-red-400" role="alert"><span class="font-bold">Enter a valid Phone number </span></div>
                    }

                   

    

                }


            </div>
          
            <button [disabled]="registerForm.invalid" type="submit" class="text-white ms-auto block disabled:opacity-50 disabled:hover:bg-main-color-0aad0a bg-main-color-0aad0a hover:bg-green-500 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-base w-full sm:w-auto px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">
                @if (isLoading) {
                     <i class="fa-solid fa-spinner fa-spin"></i>

                }@else {
                    Register
                }
            </button>
        </form>
  
    </div>
    
</section>